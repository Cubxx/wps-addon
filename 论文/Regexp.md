## 目录
- [检查规则详解](#检查规则详解)
  - [作者](#作者)
    - [中文](#中文)
    - [英文](#英文)
  - [日期](#日期)
  - [标题&来源](#标题来源)
    - [期刊论文](#期刊论文)
    - [学位论文](#学位论文)
- [核对索引](#核对索引)
  - [使用方法](#使用方法)
  - [识别原理](#识别原理)
***
# 检查规则详解
使用正则表达式匹配索引的各部分  
不匹配的部分将被标红  
运行错误部分将被突出显示 (遇到这种情况，请速速告知我)  
## 作者
不支持中英混合
### 中文
>张三, 李四四, 王五五五.   
>张三, 李四四, … 王五五五.  

姓名字数在 2-4 内，姓名后必须有逗号加一个空格  
\>=8个名字，最后姓名前要加省略号（三个英文句号）   
最后姓名后面必须为句号加一个空格
### 英文
>aa, A., b-b B. B., & c'c, C. C. C.   

单个英文名必须包含姓和名，名只有一个，姓有 1-3 个  
名后面必须有逗号加一个空格，姓后面必须有句号  
名可包含26个字母的大小写，和 `'-`，姓只能为一个大写字母  
最后一个英文名的最后一个姓后面必须有空格  
其他和[中文](#中文)一致
## 日期
>(2020b).   

必须要有括号，括号内必须有4个数字  
数字后可以跟一个小写字母  
括号后必须为一个句号加一个空格
## 标题&来源
### 期刊论文
> 标题. 期刊名, 1(2), 3-4+5.  
> 标题. 期刊名, 1(2-3), 3-4+5.  
> 标题. 期刊名, 1, 3-4+5.  
> 标题. 期刊名, 1, Article e2. 

标题名不能包含括号  
期刊名包含所有中英文字符，和 `,-&:()' `，至少包含两个字符  
期号必须有且为数字，卷号可以没有，期号和卷号之间无空格  
页码必须有，内容可为纯数字，或者一个字母后加纯数字  
页码最多可连接三条，即 `1-2+3`
### 学位论文
>标题(硕士学位论文). 学校, 地区.   
>标题(博士学位论文). 学校, 地区.   
>title(Unpublished master's thesis). University, Area.   
>title(Unpublished doctorial dissertation). University, Area.   

学校包含所有中英文字符、英文上引号、空格，至少包含4个字符
# 核对索引
> 建议进行核对索引的时候，点击 `视图-并排比较`  
> 最好提前把参考文献格式纠正后，再进行以下操作
> 
|   索引类型   |         详细解释         |           如何查看            |
| :----------: | :----------------------: | :---------------------------: |
| 缺少参考文献 | 参考文献中没有，正文中有 | 打开JS调试器，进入Console面板 |
|  多余的索引  | 参考文献中有，正文中没有 |  参考文献中的索引被局部标蓝   |
|   正确匹配   | 参考文献中有，正文中也有 |    参考文献中的索引没变化     |
## 使用方法
选择参考文献，进行格式化  
不用管有多少索引被标红  
选中参考文献对应的正文（比如：之前选中了整篇论文的参考文献，那这里就选中整篇论文）  
点击 `核对`，此时参考文献中，匹配成功的索引的日期将被标蓝  
> 匹配成功：这段索引在正文中被引用了  
> 匹配不成功意味着这段索引没有被引用  
> 可以打开JS调试器，我把程序从正文中识别出的索引们，打印在了Console面板

## 识别原理
主要是通过正则表达式识别正文中的索引  
程序获取正文文本后，会查找类似 `(2333)` 这样的字符串，也就是索引的日期部分  
然后根据这个字符串获取索引字符串  
**所以假如有些索引没有标上日期，那么程序就无法识别，之后也就会认为参考文献中的相应索引不匹配**